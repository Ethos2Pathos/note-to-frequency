!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):t.noteToFrequency=e()}(this,function(){"use strict";var t=["C","C#","D","D#","E","F","F#","G","G#","A","A#","B"],e=[{letter:"B",signature:"#"},{letter:"C",signature:"b"},{letter:"E",signature:"#"},{letter:"F",signature:"b"}],r=function(e,r){return r="#",e=t[t.indexOf(e)-1].charAt(0),{signature:r,letter:e}},n=function(n){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=i.maxOctave,a=void 0===o?8:o,u=i.flatToSharp,f=void 0!==u&&u;if("string"!=typeof n)throw new Error(n+" is not a String");if(n.length>3||n.length<2)throw new Error(n+" is not a valid note");var l=n.charAt(0),d=parseInt(n.charAt(n.length-1)),h=3===n.length?n.charAt(1):"";if(f&&"b"===h){var s=r(l,h);l=s.letter,h=s.signature}if(!t.find(function(t){return t===l}))throw new Error(l+" is not a valid note");if(h&&"#"!==h&&"b"!==h)throw new Error(h+" is not a valid signature (#, b)");if(d>a)throw new Error(d+" is not a valid octave (0 - "+a+")");if(e.find(function(t){return t.letter===l&&t.signature===h}))throw new Error(""+l+h+d+" is not a valid note");return{letter:l,signature:h,octave:d}},i=["C","C#","D","D#","E","F","F#","G","G#","A","A#","B"],o=function(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";return e*i.length+i.indexOf(""+t+r)+1},a=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=e.base,i=void 0===r?440:r,a=e.maxOctave,u=void 0===a?8:a,f=n(t,{flatToSharp:!0,maxOctave:u}),l=f.letter,d=f.octave,h=f.signature,s=o(l,d,h),v=o("A",4),c=s-v,g=Math.pow(2,1/12);return Math.round(i*Math.pow(g,c)*100)/100};return a});
